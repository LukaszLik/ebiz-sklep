{"ast":null,"code":"var _jsxFileName = \"/home/frsh22/Ebiz-trash/frontend/E-biz-react-hooks/shop/src/components/LoginComponent.tsx\",\n    _s = $RefreshSig$();\n\nimport React from \"react\";\nimport \"./LoginComponentStyles.css\";\nimport { useHistory } from \"react-router-dom\";\nimport { Button, FormControl, IconButton, InputAdornment, InputLabel, OutlinedInput, TextField } from \"@material-ui/core\";\nimport { GithubLoginButton, GoogleLoginButton } from \"react-social-login-buttons\";\nimport Visibility from \"@material-ui/icons/Visibility\";\nimport VisibilityOff from \"@material-ui/icons/VisibilityOff\";\nimport LoginService from \"../services/LoginService\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport default function LoginComponent() {\n  _s();\n\n  const [state, setState] = React.useState({\n    login: '',\n    password: '',\n    showPassword: false\n  });\n  const [loginError, setLoginError] = React.useState(false);\n  let history = useHistory();\n\n  const handleLoginButton = () => {\n    // console.log(state.login + \" \" + state.password)\n    LoginService.signIn(state.login, state.password).then(() => {\n      history.push(\"/products\");\n      history.go(0);\n    }).catch(error => {\n      setLoginError(true);\n    });\n  };\n\n  const handleChange = prop => event => {\n    setState({ ...state,\n      [prop]: event.target.value\n    });\n  };\n\n  const handleClickShowPassword = () => {\n    setState({ ...state,\n      showPassword: !state.showPassword\n    });\n  };\n\n  const oauthLogin = url => {\n    // window.location.assign(\"https://sklep-backend.azurewebsites.net\" + url);\n    window.open(\"http://localhost:9000\" + url);\n    console.log(\"http://localhost:9000\" + url);\n  };\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"page\",\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"container\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"text\",\n        children: \"ZALOGUJ SI\\u0118\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 66,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"text-fields\",\n        children: [/*#__PURE__*/_jsxDEV(TextField, {\n          className: \"text-field\",\n          value: state.login,\n          onChange: handleChange(\"login\"),\n          id: \"outlined-basic\",\n          label: \"Login\",\n          variant: \"outlined\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 68,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(FormControl, {\n          variant: \"outlined\",\n          children: [/*#__PURE__*/_jsxDEV(InputLabel, {\n            htmlFor: \"outlined-adornment-password\",\n            children: \"Has\\u0142o\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 70,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(OutlinedInput, {\n            className: \"text-field\",\n            id: \"outlined-adornment-password\",\n            type: state.showPassword ? 'text' : 'password',\n            value: state.password,\n            onChange: handleChange('password'),\n            endAdornment: /*#__PURE__*/_jsxDEV(InputAdornment, {\n              position: \"end\",\n              children: /*#__PURE__*/_jsxDEV(IconButton, {\n                \"aria-label\": \"toggle password visibility\",\n                onClick: handleClickShowPassword,\n                edge: \"end\",\n                children: state.showPassword ? /*#__PURE__*/_jsxDEV(Visibility, {}, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 84,\n                  columnNumber: 59\n                }, this) : /*#__PURE__*/_jsxDEV(VisibilityOff, {}, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 84,\n                  columnNumber: 76\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 79,\n                columnNumber: 33\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 78,\n              columnNumber: 29\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 71,\n            columnNumber: 25\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 69,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 67,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"social-container\",\n        children: [loginError ? /*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"error\",\n          children: \"Niepoprawny login lub has\\u0142o.\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 94,\n          columnNumber: 25\n        }, this) : /*#__PURE__*/_jsxDEV(\"div\", {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 96,\n          columnNumber: 25\n        }, this), /*#__PURE__*/_jsxDEV(Button, {\n          className: \"login-button\",\n          variant: \"contained\",\n          onClick: handleLoginButton,\n          children: \"ZALOGUJ SI\\u0118\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 98,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(GoogleLoginButton, {\n          style: {\n            width: \"35vw\"\n          },\n          onClick: () => oauthLogin(\"/authenticate/google\"),\n          children: [\" \", /*#__PURE__*/_jsxDEV(\"span\", {\n            children: \"Zaloguj przez Gmaila\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 99,\n            columnNumber: 118\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 99,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(GithubLoginButton, {\n          style: {\n            width: \"35vw\"\n          },\n          onClick: () => oauthLogin(\"/authenticate/github\"),\n          children: [\" \", /*#__PURE__*/_jsxDEV(\"span\", {\n            children: \"Zaloguj przez GitHuba\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 100,\n            columnNumber: 118\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 100,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 92,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 65,\n      columnNumber: 13\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 64,\n    columnNumber: 9\n  }, this);\n}\n\n_s(LoginComponent, \"5l3GEeRZ0sgq8KGtyoWDR9PMze0=\", false, function () {\n  return [useHistory];\n});\n\n_c = LoginComponent;\n\nvar _c;\n\n$RefreshReg$(_c, \"LoginComponent\");","map":{"version":3,"sources":["/home/frsh22/Ebiz-trash/frontend/E-biz-react-hooks/shop/src/components/LoginComponent.tsx"],"names":["React","useHistory","Button","FormControl","IconButton","InputAdornment","InputLabel","OutlinedInput","TextField","GithubLoginButton","GoogleLoginButton","Visibility","VisibilityOff","LoginService","LoginComponent","state","setState","useState","login","password","showPassword","loginError","setLoginError","history","handleLoginButton","signIn","then","push","go","catch","error","handleChange","prop","event","target","value","handleClickShowPassword","oauthLogin","url","window","open","console","log","width"],"mappings":"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","sourcesContent":["import React from \"react\";\nimport \"./LoginComponentStyles.css\"\nimport { useHistory } from \"react-router-dom\";\nimport {\n    Button,\n    FilledInput,\n    FormControl,\n    IconButton,\n    InputAdornment,\n    InputLabel,\n    OutlinedInput,\n    TextField\n} from \"@material-ui/core\";\nimport {GithubLoginButton, GoogleLoginButton} from \"react-social-login-buttons\";\nimport Visibility from \"@material-ui/icons/Visibility\";\nimport VisibilityOff from \"@material-ui/icons/VisibilityOff\";\nimport LoginService from \"../services/LoginService\";\n\ninterface State {\n    login: string;\n    password: string;\n    showPassword: boolean;\n}\n\nexport default function LoginComponent() {\n    const [state, setState] = React.useState<State>({\n       login: '',\n       password: '',\n        showPassword: false,\n    });\n\n    const [loginError, setLoginError] = React.useState(false);\n    let history = useHistory();\n\n    const handleLoginButton = () => {\n        // console.log(state.login + \" \" + state.password)\n        LoginService.signIn(state.login, state.password).then( () => {\n            history.push(\"/products\");\n            history.go(0);\n            }\n        ).catch( (error) => {\n            setLoginError(true);\n        });\n    }\n\n    const handleChange = (prop: keyof State) => (\n        event: React.ChangeEvent<HTMLInputElement>\n    ) => {\n        setState({ ...state, [prop]: event.target.value });\n\n    };\n\n    const handleClickShowPassword = () => {\n        setState({ ...state, showPassword: !state.showPassword });\n    };\n\n    const oauthLogin = (url: string) => {\n        // window.location.assign(\"https://sklep-backend.azurewebsites.net\" + url);\n        window.open(\"http://localhost:9000\" + url);\n        console.log(\"http://localhost:9000\" + url);\n    };\n\n    return (\n        <div className=\"page\">\n            <div className=\"container\">\n                <div className='text'>ZALOGUJ SIĘ</div>\n                <div className=\"text-fields\">\n                    <TextField className=\"text-field\" value={state.login} onChange={handleChange(\"login\")} id=\"outlined-basic\" label=\"Login\" variant=\"outlined\" />\n                    <FormControl variant=\"outlined\">\n                        <InputLabel htmlFor=\"outlined-adornment-password\">Hasło</InputLabel>\n                        <OutlinedInput\n                        className=\"text-field\"\n                        id=\"outlined-adornment-password\"\n                        type={state.showPassword ? 'text' : 'password'}\n                        value={state.password}\n                        onChange={handleChange('password')}\n                        endAdornment={\n                            <InputAdornment position=\"end\">\n                                <IconButton\n                                    aria-label=\"toggle password visibility\"\n                                    onClick={handleClickShowPassword}\n                                    edge=\"end\"\n                                >\n                                    {state.showPassword ? <Visibility /> : <VisibilityOff />}\n                                </IconButton>\n                            </InputAdornment>\n                        }\n                    />\n                    </FormControl>\n                </div>\n\n                <div className=\"social-container\">\n                    { loginError ?\n                        <p className=\"error\">Niepoprawny login lub hasło.</p>\n                        :\n                        <div></div>\n                    }\n                    <Button className=\"login-button\" variant=\"contained\" onClick={handleLoginButton}>ZALOGUJ SIĘ</Button>\n                    <GoogleLoginButton style={{ width: \"35vw\" }} onClick={() => oauthLogin(\"/authenticate/google\")}> <span>Zaloguj przez Gmaila</span></GoogleLoginButton>\n                    <GithubLoginButton style={{ width: \"35vw\" }} onClick={() => oauthLogin(\"/authenticate/github\")}> <span>Zaloguj przez GitHuba</span></GithubLoginButton>\n\n                </div>\n            </div>\n\n        </div>\n    )\n}"]},"metadata":{},"sourceType":"module"}