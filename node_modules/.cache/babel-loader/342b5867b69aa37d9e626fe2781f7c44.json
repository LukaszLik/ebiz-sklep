{"ast":null,"code":"import axios from \"axios\";\nimport { Product } from \"../components/cart/Cart\";\n\nclass ProductService {\n  async getProducts() {\n    return axios.get(`http://localhost:9000/api/products`).then(res => {\n      return res.data;\n    });\n  }\n\n  async getCartProducts() {\n    let allCookies = document.cookie.split(\";\");\n    let productsArr = [];\n\n    for (let cookie of allCookies) {\n      let id = cookie.split(\"=\")[0];\n\n      if (/[0-9]+/.test(id)) {\n        console.log(\"match = \" + id);\n        let vals = cookie.split(\"=\")[1].split(\",\");\n        productsArr.push(new Product(parseInt(id), vals[0], parseInt(vals[1]), parseDouble(vals[2])));\n      }\n    }\n\n    return productsArr;\n  }\n\n  async deleteProductsInCart() {\n    let allCookies = document.cookie.split(\";\");\n\n    for (let cookie of allCookies) {\n      let id = cookie.split(\"=\")[0];\n\n      if (/[0-9]+/.test(id)) {\n        console.log(\"deleting\");\n        document.cookie = `${id}=deleted; path=/; expires=` + new Date(0).toUTCString();\n      }\n    }\n  }\n\n}\n\nexport default new ProductService();","map":{"version":3,"sources":["/home/frsh22/Ebiz-trash/frontend/E-biz-react-hooks/shop/src/services/ProductService.ts"],"names":["axios","Product","ProductService","getProducts","get","then","res","data","getCartProducts","allCookies","document","cookie","split","productsArr","id","test","console","log","vals","push","parseInt","parseDouble","deleteProductsInCart","Date","toUTCString"],"mappings":"AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,SAAQC,OAAR,QAAsB,yBAAtB;;AAEA,MAAMC,cAAN,CAAqB;AACA,QAAXC,WAAW,GAAG;AAChB,WAAOH,KAAK,CAACI,GAAN,CAAW,oCAAX,EACNC,IADM,CACDC,GAAG,IAAI;AACX,aAAOA,GAAG,CAACC,IAAX;AACD,KAHM,CAAP;AAIH;;AAEoB,QAAfC,eAAe,GAAE;AACnB,QAAIC,UAAU,GAAGC,QAAQ,CAACC,MAAT,CAAgBC,KAAhB,CAAsB,GAAtB,CAAjB;AACA,QAAIC,WAAW,GAAG,EAAlB;;AAEA,SAAK,IAAIF,MAAT,IAAmBF,UAAnB,EAA8B;AAC1B,UAAIK,EAAE,GAAGH,MAAM,CAACC,KAAP,CAAa,GAAb,EAAkB,CAAlB,CAAT;;AACA,UAAI,SAASG,IAAT,CAAcD,EAAd,CAAJ,EAAsB;AAClBE,QAAAA,OAAO,CAACC,GAAR,CAAY,aAAaH,EAAzB;AACA,YAAII,IAAI,GAAGP,MAAM,CAACC,KAAP,CAAa,GAAb,EAAkB,CAAlB,EAAqBA,KAArB,CAA2B,GAA3B,CAAX;AAEAC,QAAAA,WAAW,CAACM,IAAZ,CAAiB,IAAIlB,OAAJ,CAAYmB,QAAQ,CAACN,EAAD,CAApB,EAA0BI,IAAI,CAAC,CAAD,CAA9B,EACbE,QAAQ,CAACF,IAAI,CAAC,CAAD,CAAL,CADK,EACMG,WAAW,CAACH,IAAI,CAAC,CAAD,CAAL,CADjB,CAAjB;AAEH;AACJ;;AAED,WAAOL,WAAP;AACH;;AAEyB,QAApBS,oBAAoB,GAAE;AACxB,QAAIb,UAAU,GAAGC,QAAQ,CAACC,MAAT,CAAgBC,KAAhB,CAAsB,GAAtB,CAAjB;;AAEA,SAAK,IAAID,MAAT,IAAmBF,UAAnB,EAA8B;AAC1B,UAAIK,EAAE,GAAGH,MAAM,CAACC,KAAP,CAAa,GAAb,EAAkB,CAAlB,CAAT;;AACA,UAAI,SAASG,IAAT,CAAcD,EAAd,CAAJ,EAAuB;AACnBE,QAAAA,OAAO,CAACC,GAAR,CAAY,UAAZ;AACAP,QAAAA,QAAQ,CAACC,MAAT,GAAmB,GAAEG,EAAG,4BAAN,GAAoC,IAAIS,IAAJ,CAAS,CAAT,EAAYC,WAAZ,EAAtD;AACH;AACJ;AACJ;;AApCgB;;AAwCrB,eAAe,IAAItB,cAAJ,EAAf","sourcesContent":["import axios from \"axios\";\nimport {Product} from \"../components/cart/Cart\";\n\nclass ProductService {\n    async getProducts() {\n        return axios.get(`http://localhost:9000/api/products`)\n        .then(res => {\n          return res.data;\n        })\n    }\n\n    async getCartProducts(){\n        let allCookies = document.cookie.split(\";\");\n        let productsArr = [] as Product[];\n\n        for (let cookie of allCookies){\n            let id = cookie.split(\"=\")[0]\n            if (/[0-9]+/.test(id)){\n                console.log(\"match = \" + id)\n                let vals = cookie.split(\"=\")[1].split(\",\");\n\n                productsArr.push(new Product(parseInt(id), vals[0],\n                    parseInt(vals[1]), parseDouble(vals[2])));\n            }\n        }\n\n        return productsArr;\n    }\n\n    async deleteProductsInCart(){\n        let allCookies = document.cookie.split(\";\");\n\n        for (let cookie of allCookies){\n            let id = cookie.split(\"=\")[0]\n            if (/[0-9]+/.test(id)) {\n                console.log(\"deleting\");\n                document.cookie = `${id}=deleted; path=/; expires=` + new Date(0).toUTCString();\n            }\n        }\n    }\n\n}\n  \nexport default new ProductService();"]},"metadata":{},"sourceType":"module"}