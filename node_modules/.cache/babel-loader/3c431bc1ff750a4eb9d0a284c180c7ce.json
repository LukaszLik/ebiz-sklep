{"ast":null,"code":"var _jsxFileName = \"/home/frsh22/Ebiz-trash/frontend/E-biz-react-hooks/shop/src/components/buy/BuyComponent.tsx\",\n    _s = $RefreshSig$();\n\nimport React, { useEffect } from \"react\";\nimport { Button, Card, makeStyles, Typography } from \"@material-ui/core\";\nimport \"../../services/UserService\";\nimport UserService from \"../../services/UserService\";\nimport ProductService from \"../../services/ProductService\";\nimport CartService from \"../../services/CartService\";\nimport \"./BuyComponent.css\";\nimport Divider from '@material-ui/core/Divider';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst useStyles = makeStyles(theme => ({\n  paperStyle: {\n    minHeight: \"20vh\",\n    width: \"60vw\",\n    outlineColor: \"blue\",\n    border: \"darkslategray 4px solid\",\n    paddingTop: \"0.5%\",\n    paddingBottom: \"1vh\",\n    margin: \"5vh 0vh 5vh 0vh\"\n  }\n}));\nexport default function BuyComponent() {\n  _s();\n\n  const [state, setState] = React.useState({\n    name: \"\",\n    surname: \"\",\n    email: \"\",\n    id: 0\n  });\n  const [loading, setLoading] = React.useState(true);\n  const [products, setProducts] = React.useState([]);\n  const classes = useStyles();\n  useEffect(() => {\n    let cookie = document.cookie.split(\"; \").find(row => row.startsWith(\"email=\"));\n    ProductService.getCartProducts().then(productsArr => {\n      console.log(productsArr);\n      setProducts(productsArr);\n      products.map(product => {\n        console.log(\"test\" + product);\n      });\n    });\n\n    if (cookie) {\n      console.log(cookie.split(\"=\")[1]);\n      UserService.getUserData(cookie.split(\"=\")[1]).then(response => {\n        console.log(response.data);\n        setState({ ...state,\n          name: response.data.firstName,\n          surname: response.data.lastName,\n          email: response.data.email,\n          id: response.data.id\n        });\n      });\n      setLoading(false);\n    }\n  }, []);\n\n  const sumPrice = () => {\n    let price = 0;\n\n    for (let product of products) {\n      price += product.quantity * product.price;\n    }\n\n    return price;\n  };\n\n  const orderHandler = () => {\n    CartService.buyProducts();\n    console.log(\"bought\");\n  };\n\n  return loading ? /*#__PURE__*/_jsxDEV(\"div\", {\n    children: \"\\u0141adowanie\"\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 77,\n    columnNumber: 22\n  }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"buy-box\",\n    children: [/*#__PURE__*/_jsxDEV(Typography, {\n      variant: \"h3\",\n      className: \"titleStyle\",\n      children: \"Podsumowanie zam\\xF3wienia\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 80,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(Card, {\n      className: classes.paperStyle,\n      variant: \"outlined\",\n      children: [/*#__PURE__*/_jsxDEV(\"p\", {\n        children: [\"Imi\\u0119: \", state.name]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 85,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        children: [\"Nazwisko: \", state.surname]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 86,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        children: [\"Email: \", state.email]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 87,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(Divider, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 88,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        className: \"prodcuts\",\n        children: \"Produkty:\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 89,\n        columnNumber: 17\n      }, this), products.map(product => {\n        return /*#__PURE__*/_jsxDEV(\"p\", {\n          children: [product.name, \"  x\", product.quantity]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 92,\n          columnNumber: 32\n        }, this);\n      }), /*#__PURE__*/_jsxDEV(Divider, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 95,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        className: \"price\",\n        children: [\"Cena: \", sumPrice()]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 96,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(Button, {\n        className: \"buy-button\",\n        variant: \"contained\",\n        children: \"Kup\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 97,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 84,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 79,\n    columnNumber: 9\n  }, this);\n}\n\n_s(BuyComponent, \"T8wT+Bo0U98fl/wYv2ySL4Fud0s=\", false, function () {\n  return [useStyles];\n});\n\n_c = BuyComponent;\n\nvar _c;\n\n$RefreshReg$(_c, \"BuyComponent\");","map":{"version":3,"sources":["/home/frsh22/Ebiz-trash/frontend/E-biz-react-hooks/shop/src/components/buy/BuyComponent.tsx"],"names":["React","useEffect","Button","Card","makeStyles","Typography","UserService","ProductService","CartService","Divider","useStyles","theme","paperStyle","minHeight","width","outlineColor","border","paddingTop","paddingBottom","margin","BuyComponent","state","setState","useState","name","surname","email","id","loading","setLoading","products","setProducts","classes","cookie","document","split","find","row","startsWith","getCartProducts","then","productsArr","console","log","map","product","getUserData","response","data","firstName","lastName","sumPrice","price","quantity","orderHandler","buyProducts"],"mappings":"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","sourcesContent":["import React, {useEffect} from \"react\";\nimport {Box, Button, Card, CardContent, makeStyles, Typography} from \"@material-ui/core\";\nimport \"../../services/UserService\";\nimport UserService from \"../../services/UserService\";\nimport ProductService from \"../../services/ProductService\";\nimport CartService from \"../../services/CartService\";\nimport { Product } from \"../cart/Cart\";\nimport \"./BuyComponent.css\";\nimport Divider from '@material-ui/core/Divider';\n\nconst useStyles = makeStyles((theme) => ({\n    paperStyle: {\n        minHeight: \"20vh\",\n        width: \"60vw\",\n        outlineColor: \"blue\",\n        border: \"darkslategray 4px solid\",\n        paddingTop: \"0.5%\",\n        paddingBottom: \"1vh\",\n        margin: \"5vh 0vh 5vh 0vh\",\n    },\n}));\n\n\nexport default function BuyComponent(){\n    const [state, setState] = React.useState({\n            name: \"\",\n            surname: \"\",\n            email: \"\",\n            id: 0,\n        }\n    );\n    const [loading, setLoading] = React.useState(true);\n    const [products, setProducts] = React.useState([] as Product[]);\n\n    const classes = useStyles();\n\n    useEffect(() => {\n        let cookie = document.cookie.split(\"; \").find((row) => row.startsWith(\"email=\"));\n\n        ProductService.getCartProducts().then((productsArr) => {\n            console.log(productsArr);\n            setProducts(productsArr);\n\n\n            products.map((product: Product) => {\n                console.log(\"test\" + product)\n            });\n        });\n\n        if (cookie){\n            console.log(cookie.split(\"=\")[1]);\n            UserService.getUserData(cookie.split(\"=\")[1]).then((response) => {\n                console.log(response.data);\n                setState({...state, name: response.data.firstName, surname: response.data.lastName,\n                    email: response.data.email, id: response.data.id});\n\n\n            })\n            setLoading(false);\n        }\n    }, [])\n\n    const sumPrice = () => {\n        let price = 0;\n        for (let product of products){\n            price += product.quantity * product.price;\n        }\n\n        return price;\n    }\n\n    const orderHandler = () => {\n        CartService.buyProducts();\n        console.log(\"bought\")\n    }\n\n    return loading ? <div>Ładowanie</div>\n        : (\n        <div className=\"buy-box\">\n            <Typography variant=\"h3\" className=\"titleStyle\">\n                Podsumowanie zamówienia\n            </Typography>\n\n            <Card className={classes.paperStyle} variant=\"outlined\">\n                <p>Imię: {state.name}</p>\n                <p>Nazwisko: {state.surname}</p>\n                <p>Email: {state.email}</p>\n                <Divider/>\n                <p className=\"prodcuts\" >Produkty:</p>\n                {\n                    products.map((product: Product) => {\n                        return <p>{product.name}  x{product.quantity}</p>;\n                    })\n                }\n                <Divider/>\n                <p className=\"price\">Cena: {sumPrice()}</p>\n                <Button className=\"buy-button\" variant=\"contained\">Kup</Button>\n            </Card>\n        </div>\n    )\n}"]},"metadata":{},"sourceType":"module"}