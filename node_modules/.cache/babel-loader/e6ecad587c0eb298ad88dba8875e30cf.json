{"ast":null,"code":"var _jsxFileName = \"/home/frsh22/Ebiz-trash/frontend/E-biz-react-hooks/shop/src/components/register/RegisterComponent.tsx\",\n    _s = $RefreshSig$();\n\nimport \"./Auth.css\";\nimport Form from \"react-bootstrap/Form\";\nimport { TextField, Button, InputAdornment, IconButton, FilledInput, FormControl, InputLabel, Grid, Typography, Box, FormHelperText } from \"@material-ui/core\";\nimport Visibility from \"@material-ui/icons/Visibility\";\nimport VisibilityOff from \"@material-ui/icons/VisibilityOff\";\nimport { useState } from \"react\"; // import AuthService from \"../../services/auth\";\n\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport default function RegisterComponent() {\n  _s();\n\n  const [errors, setErrors] = useState();\n  const [values, setStates] = useState({\n    password: \"\",\n    email: \"\",\n    message: \"\",\n    firstName: \"\",\n    lastName: \"\",\n    showPassword: false\n  });\n\n  const handleChange = prop => event => {\n    setStates({ ...values,\n      [prop]: event.target.value\n    });\n\n    switch (prop) {\n      case \"firstName\":\n        {\n          console.log(\"aa\");\n          nameValidator(event.target.value, \"firstName\");\n          break;\n        }\n\n      case \"lastName\":\n        {\n          nameValidator(event.target.value, \"lastName\");\n          break;\n        }\n\n      case \"email\":\n        {\n          emailValidator(event.target.value);\n          break;\n        }\n\n      case \"password\":\n        {\n          passwordValidator(event.target.value);\n          break;\n        }\n\n      default:\n        break;\n    }\n  };\n\n  const emailValidator = email => {\n    const regexp = /^(([^<>()[\\]\\\\.,;:\\s@\"]+(\\.[^<>()[\\]\\\\.,;:\\s@\"]+)*)|(\".+\"))@((\\[[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\])|(([a-zA-Z\\-0-9]+\\.)+[a-zA-Z]{2,}))$/;\n    setErrors({ ...errors,\n      email: \"\"\n    });\n    let errorMessage = \"\";\n\n    if (email.length === 0) {\n      errorMessage = \"Email jest wymagany\";\n    } else if (!regexp.test(email.toLowerCase())) {\n      errorMessage = \"Niepoprawny email\";\n    }\n\n    setErrors({ ...errors,\n      email: errorMessage\n    });\n  };\n\n  const passwordValidator = password => {\n    const regexp = /^(?=.*[A-Z])(?=.*[a-z])(?=.*[0-9])(?=.*[!@#$%^&*()_+,.\\\\;':\"-]).{8,}$/;\n    let errorMessage = \"\";\n    setErrors({ ...errors,\n      password: \"\"\n    });\n\n    if (password.length === 0) {\n      errorMessage = \"Hasło jest wymagane\";\n    } else if (!regexp.test(password)) {\n      errorMessage = \"Hasło nie jest bezpieczne\";\n    }\n\n    setErrors({ ...errors,\n      password: errorMessage\n    });\n  };\n\n  const nameValidator = (name, val) => {\n    setErrors({ ...errors,\n      [val]: \"\"\n    });\n\n    if (name.length === 0) {\n      let message = \"\";\n\n      if (val === \"firstName\") {\n        message = \"imienia\";\n      } else {\n        message = \"nazwiska\";\n      }\n\n      setErrors({ ...errors,\n        [val]: `Brak ${message}`\n      });\n    }\n  };\n\n  const handleMouseDownPassword = event => {\n    event.preventDefault();\n  };\n\n  const handleClickShowPassword = () => {\n    setStates({ ...values,\n      showPassword: !values.showPassword\n    });\n  };\n\n  const handleRegistration = e => {\n    e.preventDefault();\n    setStates({ ...values,\n      message: \"\"\n    });\n    AuthService.signUp(values.email, values.firstName, values.lastName, values.password).then(() => {\n      window.location.href = \"/\";\n    }, error => {\n      const resMessage = error.response && error.response.data && error.response.data.message || error.message || error.toString();\n      setStates({ ...values,\n        message: resMessage\n      });\n    });\n  };\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"outer\",\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"inner inner2\",\n      children: /*#__PURE__*/_jsxDEV(Form, {\n        onSubmit: handleRegistration,\n        children: /*#__PURE__*/_jsxDEV(Grid, {\n          container: true,\n          direction: \"column\",\n          alignItems: \"center\",\n          children: [/*#__PURE__*/_jsxDEV(Typography, {\n            variant: \"h4\",\n            className: \"first-input\",\n            children: \"Utw\\xF3rz konto\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 166,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(TextField, {\n            error: Boolean(errors === null || errors === void 0 ? void 0 : errors.firstName),\n            helperText: errors === null || errors === void 0 ? void 0 : errors.firstName,\n            className: \"first-input\",\n            type: \"text\",\n            label: \"Imi\\u0119\",\n            placeholder: \"Imi\\u0119\",\n            margin: \"normal\",\n            variant: \"filled\",\n            name: \"firstName\",\n            onChange: handleChange(\"firstName\"),\n            value: values.firstName,\n            fullWidth: true\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 169,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(TextField, {\n            className: \"first-input\",\n            type: \"text\",\n            label: \"Nazwisko\",\n            placeholder: \"Nazwisko\",\n            margin: \"normal\",\n            variant: \"filled\",\n            name: \"lastName\",\n            onChange: handleChange(\"lastName\"),\n            value: values.lastName,\n            error: Boolean(errors === null || errors === void 0 ? void 0 : errors.lastName),\n            helperText: errors === null || errors === void 0 ? void 0 : errors.lastName,\n            fullWidth: true\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 183,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(TextField, {\n            className: \"first-input\",\n            type: \"text\",\n            label: \"Email\",\n            placeholder: \"Email\",\n            margin: \"normal\",\n            variant: \"filled\",\n            onChange: handleChange(\"email\"),\n            error: Boolean(errors === null || errors === void 0 ? void 0 : errors.email),\n            helperText: errors === null || errors === void 0 ? void 0 : errors.email,\n            value: values.email,\n            fullWidth: true\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 197,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(FormControl, {\n            variant: \"filled\",\n            margin: \"normal\",\n            size: \"medium\",\n            fullWidth: true,\n            children: [/*#__PURE__*/_jsxDEV(InputLabel, {\n              htmlFor: \"standard-adornment-password\",\n              style: {\n                color: (errors === null || errors === void 0 ? void 0 : errors.password) ? \"red\" : \"gray\"\n              },\n              children: \"Password\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 216,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(FilledInput, {\n              id: \"password\",\n              type: values.showPassword ? \"text\" : \"password\",\n              placeholder: \"Password\",\n              value: values.password,\n              name: \"password\",\n              onChange: handleChange(\"password\"),\n              endAdornment: /*#__PURE__*/_jsxDEV(InputAdornment, {\n                position: \"end\",\n                children: /*#__PURE__*/_jsxDEV(IconButton, {\n                  \"aria-label\": \"toggle password visibility\",\n                  onClick: handleClickShowPassword,\n                  onMouseDown: handleMouseDownPassword,\n                  children: values.showPassword ? /*#__PURE__*/_jsxDEV(Visibility, {}, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 236,\n                    columnNumber: 68\n                  }, this) : /*#__PURE__*/_jsxDEV(VisibilityOff, {}, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 236,\n                    columnNumber: 85\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 231,\n                  columnNumber: 41\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 230,\n                columnNumber: 37\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 222,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(FormHelperText, {\n              style: {\n                color: (errors === null || errors === void 0 ? void 0 : errors.password) !== \"\" ? \"red\" : \"gray\"\n              },\n              id: \"component-error-text\",\n              children: errors === null || errors === void 0 ? void 0 : errors.password\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 241,\n              columnNumber: 29\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 210,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(Box, {\n            style: {\n              minHeight: \"3vh\"\n            },\n            margin: \"normal\",\n            children: values.message && /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"wrong-input\",\n              children: values.message\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 250,\n              columnNumber: 33\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 248,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(Button, {\n            variant: \"contained\",\n            type: \"submit\",\n            color: \"primary\",\n            size: \"large\",\n            style: {\n              minHeight: \"50px\"\n            },\n            fullWidth: true,\n            disabled: Boolean((errors === null || errors === void 0 ? void 0 : errors.password) || (errors === null || errors === void 0 ? void 0 : errors.firstName) || (errors === null || errors === void 0 ? void 0 : errors.email) || (errors === null || errors === void 0 ? void 0 : errors.lastName)),\n            children: /*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"btn-login-txt\",\n              children: \"Zarejestruj si\\u0119\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 267,\n              columnNumber: 29\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 253,\n            columnNumber: 25\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 165,\n          columnNumber: 21\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 164,\n        columnNumber: 17\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 163,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"footer\", {\n      children: /*#__PURE__*/_jsxDEV(Typography, {\n        className: \"copyR\",\n        children: \"Sklepik \\xA9 2021\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 274,\n        columnNumber: 17\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 273,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 162,\n    columnNumber: 9\n  }, this);\n}\n\n_s(RegisterComponent, \"ReGK9IK/M8RCzFPTNIjW8brIeFI=\");\n\n_c = RegisterComponent;\n\nvar _c;\n\n$RefreshReg$(_c, \"RegisterComponent\");","map":{"version":3,"sources":["/home/frsh22/Ebiz-trash/frontend/E-biz-react-hooks/shop/src/components/register/RegisterComponent.tsx"],"names":["Form","TextField","Button","InputAdornment","IconButton","FilledInput","FormControl","InputLabel","Grid","Typography","Box","FormHelperText","Visibility","VisibilityOff","useState","RegisterComponent","errors","setErrors","values","setStates","password","email","message","firstName","lastName","showPassword","handleChange","prop","event","target","value","console","log","nameValidator","emailValidator","passwordValidator","regexp","errorMessage","length","test","toLowerCase","name","val","handleMouseDownPassword","preventDefault","handleClickShowPassword","handleRegistration","e","AuthService","signUp","then","window","location","href","error","resMessage","response","data","toString","Boolean","color","minHeight"],"mappings":"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","sourcesContent":["import \"./Auth.css\";\nimport Form from \"react-bootstrap/Form\";\nimport {\n    TextField,\n    Button,\n    InputAdornment,\n    IconButton,\n    FilledInput,\n    FormControl,\n    InputLabel,\n    Grid,\n    Typography,\n    Box,\n    FormHelperText,\n} from \"@material-ui/core\";\nimport Visibility from \"@material-ui/icons/Visibility\";\nimport VisibilityOff from \"@material-ui/icons/VisibilityOff\";\nimport { useState } from \"react\";\n// import AuthService from \"../../services/auth\";\n\nexport default function RegisterComponent() {\n    const [errors, setErrors] = useState();\n    const [values, setStates] = useState({\n        password: \"\",\n        email: \"\",\n        message: \"\",\n        firstName: \"\",\n        lastName: \"\",\n        showPassword: false,\n    });\n\n    const handleChange = (prop) => (event) => {\n        setStates({ ...values, [prop]: event.target.value });\n\n        switch (prop) {\n            case \"firstName\": {\n                console.log(\"aa\");\n                nameValidator(event.target.value, \"firstName\");\n                break;\n            }\n\n            case \"lastName\": {\n                nameValidator(event.target.value, \"lastName\");\n                break;\n            }\n\n            case \"email\": {\n                emailValidator(event.target.value);\n                break;\n            }\n\n            case \"password\": {\n                passwordValidator(event.target.value);\n                break;\n            }\n\n            default:\n                break;\n        }\n    };\n\n    const emailValidator = (email) => {\n        const regexp =\n            /^(([^<>()[\\]\\\\.,;:\\s@\"]+(\\.[^<>()[\\]\\\\.,;:\\s@\"]+)*)|(\".+\"))@((\\[[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\])|(([a-zA-Z\\-0-9]+\\.)+[a-zA-Z]{2,}))$/;\n        setErrors({\n            ...errors,\n            email: \"\",\n        });\n\n        let errorMessage = \"\";\n        if (email.length === 0) {\n            errorMessage = \"Email jest wymagany\";\n        } else if (!regexp.test(email.toLowerCase())) {\n            errorMessage = \"Niepoprawny email\";\n        }\n\n        setErrors({\n            ...errors,\n            email: errorMessage,\n        });\n    };\n\n    const passwordValidator = (password) => {\n        const regexp =\n            /^(?=.*[A-Z])(?=.*[a-z])(?=.*[0-9])(?=.*[!@#$%^&*()_+,.\\\\;':\"-]).{8,}$/;\n        let errorMessage = \"\";\n        setErrors({\n            ...errors,\n            password: \"\",\n        });\n        if (password.length === 0) {\n            errorMessage = \"Hasło jest wymagane\";\n        } else if (!regexp.test(password)) {\n            errorMessage = \"Hasło nie jest bezpieczne\";\n        }\n\n        setErrors({\n            ...errors,\n            password: errorMessage,\n        });\n    };\n\n    const nameValidator = (name, val) => {\n        setErrors({\n            ...errors,\n            [val]: \"\",\n        });\n        if (name.length === 0) {\n            let message = \"\";\n            if (val === \"firstName\") {\n                message = \"imienia\";\n            } else {\n                message = \"nazwiska\";\n            }\n            setErrors({\n                ...errors,\n                [val]: `Brak ${message}`,\n            });\n        }\n    };\n\n    const handleMouseDownPassword = (event) => {\n        event.preventDefault();\n    };\n\n    const handleClickShowPassword = () => {\n        setStates({ ...values, showPassword: !values.showPassword });\n    };\n\n    const handleRegistration = (e) => {\n        e.preventDefault();\n        setStates({\n            ...values,\n            message: \"\",\n        });\n\n        AuthService.signUp(\n            values.email,\n            values.firstName,\n            values.lastName,\n            values.password\n        ).then(\n            () => {\n                window.location.href = \"/\";\n            },\n            (error) => {\n                const resMessage =\n                    (error.response &&\n                        error.response.data &&\n                        error.response.data.message) ||\n                    error.message ||\n                    error.toString();\n                setStates({\n                    ...values,\n                    message: resMessage,\n                });\n            }\n        );\n    };\n\n    return (\n        <div className=\"outer\">\n            <div className=\"inner inner2\">\n                <Form onSubmit={handleRegistration}>\n                    <Grid container direction=\"column\" alignItems=\"center\">\n                        <Typography variant=\"h4\" className=\"first-input\">\n                            Utwórz konto\n                        </Typography>\n                        <TextField\n                            error={Boolean(errors?.firstName)}\n                            helperText={errors?.firstName}\n                            className=\"first-input\"\n                            type=\"text\"\n                            label=\"Imię\"\n                            placeholder=\"Imię\"\n                            margin=\"normal\"\n                            variant=\"filled\"\n                            name=\"firstName\"\n                            onChange={handleChange(\"firstName\")}\n                            value={values.firstName}\n                            fullWidth\n                        />\n                        <TextField\n                            className=\"first-input\"\n                            type=\"text\"\n                            label=\"Nazwisko\"\n                            placeholder=\"Nazwisko\"\n                            margin=\"normal\"\n                            variant=\"filled\"\n                            name=\"lastName\"\n                            onChange={handleChange(\"lastName\")}\n                            value={values.lastName}\n                            error={Boolean(errors?.lastName)}\n                            helperText={errors?.lastName}\n                            fullWidth\n                        />\n                        <TextField\n                            className=\"first-input\"\n                            type=\"text\"\n                            label=\"Email\"\n                            placeholder=\"Email\"\n                            margin=\"normal\"\n                            variant=\"filled\"\n                            onChange={handleChange(\"email\")}\n                            error={Boolean(errors?.email)}\n                            helperText={errors?.email}\n                            value={values.email}\n                            fullWidth\n                        />\n                        <FormControl\n                            variant=\"filled\"\n                            margin=\"normal\"\n                            size=\"medium\"\n                            fullWidth\n                        >\n                            <InputLabel\n                                htmlFor=\"standard-adornment-password\"\n                                style={{ color: errors?.password ? \"red\" : \"gray\" }}\n                            >\n                                Password\n                            </InputLabel>\n                            <FilledInput\n                                id=\"password\"\n                                type={values.showPassword ? \"text\" : \"password\"}\n                                placeholder=\"Password\"\n                                value={values.password}\n                                name=\"password\"\n                                onChange={handleChange(\"password\")}\n                                endAdornment={\n                                    <InputAdornment position=\"end\">\n                                        <IconButton\n                                            aria-label=\"toggle password visibility\"\n                                            onClick={handleClickShowPassword}\n                                            onMouseDown={handleMouseDownPassword}\n                                        >\n                                            {values.showPassword ? <Visibility /> : <VisibilityOff />}\n                                        </IconButton>\n                                    </InputAdornment>\n                                }\n                            />\n                            <FormHelperText\n                                style={{ color: errors?.password !== \"\" ? \"red\" : \"gray\" }}\n                                id=\"component-error-text\"\n                            >\n                                {errors?.password}\n                            </FormHelperText>\n                        </FormControl>\n                        <Box style={{ minHeight: \"3vh\" }} margin=\"normal\">\n                            {values.message && (\n                                <div className=\"wrong-input\">{values.message}</div>\n                            )}\n                        </Box>\n                        <Button\n                            variant=\"contained\"\n                            type=\"submit\"\n                            color=\"primary\"\n                            size=\"large\"\n                            style={{ minHeight: \"50px\" }}\n                            fullWidth\n                            disabled={Boolean(\n                                errors?.password ||\n                                errors?.firstName ||\n                                errors?.email ||\n                                errors?.lastName\n                            )}\n                        >\n                            <span className=\"btn-login-txt\">Zarejestruj się</span>\n                        </Button>\n                    </Grid>\n                </Form>\n            </div>\n\n            <footer>\n                <Typography className=\"copyR\">Sklepik &copy; 2021</Typography>\n            </footer>\n        </div>\n    );\n}"]},"metadata":{},"sourceType":"module"}